generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  publicAddress String   @id
  createdAt     DateTime @default(now())

  friends       Friend[]
}

model Friend {
  publicAddress       String
  friendWalletAddress String
  friendName          String
  friendEmail         String?   // optional; change to String if you want required
  createdAt           DateTime  @default(now())

  user User @relation(fields: [publicAddress], references: [publicAddress], onDelete: Cascade)

  @@id([publicAddress, friendWalletAddress])
  @@index([publicAddress])
}
